"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1555],{13620:(e,n,a)=>{a.d(n,{F:()=>l});var t=a(86739);function s(){let e=(0,t._)(["\n  flex flex-col flex-grow w-full first:mt-0 last:mb-0\n"]);return s=function(){return e},e}let l=a(36609).qy.section(s())},17710:(e,n,a)=>{a.d(n,{Bx:()=>f,uk:()=>h,s2:()=>g});var t=a(86739),s=a(50979),l=a(13025),r=a(25963),i=a(36609);let c={list:{visible:{transition:{staggerChildren:.05}}}};var d=a(70375),o=a(49852),m=a(13077),u=a(47654);a(37590);var x=a(42419);let h=e=>{let{text:n,link:a,active:t,icon:l,highlightSubPath:c}=e,[u,h,p]=(0,o.y)({rotate:35}),{pathname:v}=(0,d.c)(),f=(0,r.useMemo)(()=>null!=t?t:c?v.startsWith(a.url):v===a.url,[t,v,a.url,c]);return(0,s.jsxs)(j,{active:f,...a,scroll:!1,className:"sidebar-item sidebar-item-".concat(n.replace(/\s+/g,"-")," group mb-2 space-x-3"),onMouseEnter:p,children:[null!=l&&(0,s.jsx)(m.In,{icon:l,size:"sm",initial:{rotate:0},animate:u,transition:h,className:(0,i.xW)(f?"text-primary group-hover:text-primary":"text-gray-300 group-hover:text-neutral-secondary")}),(0,s.jsx)(x.EY,{className:"text-md",children:n})]})},j=e=>{let{active:n,className:a,...t}=e;return(0,s.jsx)(u.N,{...t,className:(0,i.xW)("relative flex items-center md:px-2 py-1 rounded text-neutral-secondary",n&&"text-neutral font-medium md:hover:text-neutral","md:hover:bg-secondaryBg hover:text-neutral-secondary",a)})};function p(){let e=(0,t._)(["pt-0 mb-6"]);return p=function(){return e},e}function v(){let e=(0,t._)(["\n  w-full pt-4 md:w-sidebar md:min-w-sidebar\n  md:sticky md:top-4 h-max\n"]);return v=function(){return e},e}let f=e=>{let{children:n,...a}=e;return(0,s.jsx)(b,{className:"sidebar",...a,children:n})},g=e=>{let{children:n,shouldAnimate:a,...t}=e;return(0,s.jsx)(y,{initial:a?"hidden":"visible",animate:"visible",variants:c.list,...t,children:n})},y=(0,i.DR)(l.P.div)(p()),b=i.qy.aside(v())},21512:(e,n,a)=>{a.d(n,{Hl:()=>j,Q5:()=>h,s6:()=>x});var t=a(25963),s=a(22986),l=a(45588),r=a(97865),i=a(72898),c=a(55850),d=a(45479),o=a(5979),m=a(66800),u=a.n(m);let x=[{value:d.acM.Admin,text:"Admin"},{value:d.acM.Member,text:"Member"},{value:d.acM.Viewer,text:"Deployer"}],h=e=>{let[{user:n}]=(0,l.Jd)(),{graphqlClient:a}=(0,c.q)(),o=["team",e,"members",null==n?void 0:n.id],m=(0,s.useRouter)(),{result:x,setQuery:h}=(0,r.W)(o,async()=>{if(n&&!e)return[{id:n.id,role:d.acM.Admin,featureFlags:n.featureFlags,name:n.name,email:n.email,avatar:n.avatar}];if(e)return(await a.teamMembers({id:e})).team.members;throw Error("userId and teamId not defined")},{staleTime:u()("30s"),enabled:m.isReady}),j=(0,t.useMemo)(()=>{var e,a,t;return null!=(t=null==(a=x.data)||null==(e=a.find(e=>e.id===(null==n?void 0:n.id)))?void 0:e.role)?t:null},[x.data,n]),p=(0,i.n)(o,async t=>{let{userId:s,role:l}=t;null!=n&&null!=e&&null!=x.data&&(h(x.data.map(e=>e.id===s?{...e,role:l}:e)),await a.teamPermissionChange({input:{teamId:e,userId:s,role:l}}))}),v=(0,i.n)(o,async t=>{null!=n&&null!=e&&null!=x.data&&(h(x.data.filter(e=>e.id!==t)),await a.teamUserRemove({id:e,input:{userId:t}}))});return{teamMembers:x,currentRole:j,teamMemberActions:{changeTeamPermission:p,removeUserFromTeam:v}}},j=e=>{let{graphqlClient:n}=(0,c.q)(),a=["team",e,"trustedDomains"],{result:t,setQuery:s}=(0,r.W)(a,async()=>{if(null==e)throw Error("teamId not defined");return(0,o.nX)(await n.teamTrustedDomains({teamId:e})).teamTrustedDomains},{enabled:null!=e});return{teamTrustedDomains:t,teamTrustedDomainActions:{createTeamTrustedDomain:(0,i.n)(a,async a=>{if(null==e)throw Error("teamId not defined");return await n.createTeamTrustedDomain({input:{...a,teamId:e}}),!0}),deleteTeamTrustedDomain:(0,i.n)(a,async a=>{let{id:t}=a;if(null==e)throw Error("teamId not defined");return await n.deleteTeamTrustedDomain({id:t}),!0})}}}},28531:(e,n,a)=>{a.d(n,{S:()=>m});var t=a(50979),s=a(45479),l=a(70375),r=a(73648),i=a(21512),c=a(2551),d=a(42419),o=a(17710);let m=()=>{let{routes:e}=(0,l.c)(),{workspace:n}=(0,r.hA)(),{currentRole:a}=(0,i.Q5)(null==n?void 0:n.teamId),m=null!=a;return(0,t.jsxs)(o.s2,{children:[(0,t.jsx)(d.zb,{className:"font-semibold text-xs mb-2 mx-1",children:"WORKSPACE"}),(0,t.jsx)(o.uk,{text:"General",link:e.workspace({}),icon:c.wB_}),m&&(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(o.uk,{text:"People",link:e.workspacePeople({}),icon:c.zWC})}),((null==n?void 0:n.teamId)==null||a===s.acM.Admin)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.uk,{text:"Plans",icon:c.cwJ,link:e.workspacePlan({})}),(0,t.jsx)(o.uk,{text:"Usage",link:e.workspaceUsage({}),icon:c.EsT}),(0,t.jsx)(o.uk,{text:"Billing",link:e.workspaceBilling({}),icon:c.y5g})]}),m&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.uk,{text:"Earnings",link:e.workspaceEarnings({}),icon:c.G9t}),(0,t.jsx)(o.uk,{text:"Templates",link:e.workspaceTemplates({}),icon:c.PEP}),(0,t.jsx)(o.uk,{text:"Referrals",link:e.workspaceReferrals({}),icon:c.pD})]})]})}},35356:(e,n,a)=>{a.d(n,{P:()=>i});var t=a(50979),s=a(75749),l=a(95662),r=a(42419);let i=e=>{let{title:n,ActionComponent:a,space:i=12,children:c}=e;return(0,t.jsxs)(l.T,{space:i,className:"w-full",children:[(0,t.jsxs)(l.z,{align:"center",justify:"between",children:[(0,t.jsx)(r.fV,{className:"font-normal",children:n}),a&&(0,t.jsx)(a,{})]}),(0,t.jsx)(s.c,{}),c]})}},43479:(e,n,a)=>{a.d(n,{U:()=>c});var t=a(50979),s=a(70375),l=a(42419),r=a(2551),i=a(17710);let c=()=>{let{routes:e}=(0,s.c)();return(0,t.jsxs)(i.s2,{children:[(0,t.jsx)(l.zb,{className:"font-semibold text-xs mb-2 mx-1",children:"PERSONAL"}),(0,t.jsx)(i.uk,{text:"Account",link:e.account({}),icon:r.KJW}),(0,t.jsx)(i.uk,{text:"Notifications",link:e.accountNotifications({}),icon:r.IrQ}),(0,t.jsx)(i.uk,{text:"Feature Flags",link:e.accountFeatureFlags({}),icon:r.lNU}),(0,t.jsx)(i.uk,{text:"Tokens",link:e.accountTokens({}),icon:r.Uzy}),(0,t.jsx)(i.uk,{text:"Security",link:e.accountSecurity({}),icon:r.c_I})]})}},46348:(e,n,a)=>{a.d(n,{N:()=>l});var t=a(86739);function s(){let e=(0,t._)(["\n  mt-12 mb-24\n  block space-y-4\n  md:flex md:space-x-12 md:space-y-0\n"]);return s=function(){return e},e}let l=a(36609).qy.div(s())},55802:(e,n,a)=>{a.d(n,{u:()=>j});var t=a(50979);a(25963);var s=a(73648),l=a(82660),r=a(95662),i=a(17710),c=a(78920),d=a(43479),o=a(46348),m=a(13620),u=a(82546),x=a(17274),h=a(28531);let j=e=>{let{children:n}=e,{workspaceRole:a}=(0,s.hA)();return(0,t.jsx)(x.n,{children:(0,t.jsxs)(o.N,{children:[(0,t.jsx)(r.T,{space:4,align:"start",className:"w-[240px]",children:(0,t.jsxs)(i.Bx,{className:"pt-0 md:!w-auto",children:[(0,t.jsx)(c.l,{}),(0,t.jsx)(h.S,{}),(0,t.jsx)(d.U,{})]})}),(0,t.jsx)(u.D,{children:(0,t.jsx)(m.F,{children:void 0!==a?n:(0,t.jsx)(p,{})})})]})})},p=()=>(0,t.jsx)("div",{className:"md:mt-20",children:(0,t.jsx)(l.l,{variant:"secondary",centerAlign:!0,children:(0,t.jsxs)("p",{className:"text-center",children:["You donâ€™t have access to this workspace.",(0,t.jsx)("br",{}),"Please contact the workspace owner for access."]})})})},71244:(e,n,a)=>{a.d(n,{J:()=>b});var t=a(50979),s=a(25963),l=a(45479),r=a(70375),i=a(21512),c=a(2551),d=a(77505),o=a(45588),m=a(80374),u=a(35645),x=a(17057),h=a(47654),j=a(80430),p=a(95662),v=a(18970),f=a(42419),g=a(88887),y=a(93208);let b=e=>{let{currentRole:n,teamMembers:a,actions:s}=e,[{user:l}]=(0,o.Jd)();return(0,t.jsx)(v.J6,{children:(0,t.jsxs)(v.XI,{children:[(0,t.jsx)(v.D1,{children:(0,t.jsxs)(v.fI,{children:[(0,t.jsx)(v.A3,{children:"Name"}),(0,t.jsx)(v.A3,{children:"Role"}),(null==l?void 0:l.isAdmin)&&(0,t.jsx)(v.A3,{children:"Feature Flags"}),(0,t.jsx)(v.A3,{})]})}),(0,t.jsx)(v.vc,{children:a.map(e=>(0,t.jsx)(w,{currentRole:n,member:e,actions:s},e.id))})]})})},w=e=>{var n,a,b,w,N;let{currentRole:k,member:T,actions:I}=e,[{user:A}]=(0,o.Jd)(),M=(0,s.useMemo)(()=>k===l.acM.Admin&&(null==A?void 0:A.id)!==T.id,[A,k,T]),{isConfirmed:D}=(0,y.S)(),{modalActions:E}=(0,d.U)(),{routes:R}=(0,r.c)(),C=async()=>{var e;await D({confirmLabel:"Remove",message:"Are you sure you want to remove the member ".concat(null!=(e=T.name)?e:T.email,"? This user will not be able to access any of the teams projects once they have been removed."),title:"Remove member"})&&await (null==I?void 0:I.removeUserFromTeam(T.id))},S=async e=>{try{var n;await (null==I?void 0:I.changeTeamPermission({userId:T.id,role:e})),E.createToast((0,t.jsx)(g.y8,{title:"Changed role for ".concat(null!=(n=T.name)?n:T.email),variant:"success"}))}catch(e){E.createToast((0,t.jsx)(g.y8,{title:e.message,variant:"error"}))}},z=(null==(n=i.s6.find(e=>e.value===T.role))?void 0:n.text)||(0,m.ZH)(T.role.toLowerCase());return(0,t.jsxs)(v.fI,{unSelectable:!0,className:"border-b border-gray-100 hover:bg-gray-100 group",children:[(0,t.jsx)(v.xC,{children:(0,t.jsxs)(p.z,{space:4,align:"center",children:[(0,t.jsx)(u.e,{...T,overrideSize:"40px"}),(0,t.jsxs)(p.T,{children:[(null==A?void 0:A.isAdmin)?(0,t.jsx)(h.N,{href:R.adminUsers({id:T.id}).url,variant:"highlight",children:(0,t.jsx)(f.EY,{children:null!=(w=T.name)?w:T.email})}):(0,t.jsx)(f.EY,{children:null!=(N=T.name)?N:T.email}),null!=T.name&&(0,t.jsx)(f.xC,{children:T.email})]})]})}),(0,t.jsx)(v.xC,{children:null!=I&&"ADMIN"===k&&(null==A?void 0:A.id)!==T.id?(0,t.jsx)(j.l,{value:T.role,options:i.s6,label:{text:"Role",hidden:!0},onChange:e=>{S(e)}}):(0,t.jsx)(f.EY,{children:z})}),(null==A?void 0:A.isAdmin)&&(0,t.jsx)(v.xC,{title:null==(a=T.featureFlags)?void 0:a.join("\n"),children:null==(b=T.featureFlags)?void 0:b.length}),(0,t.jsx)(v.xC,{children:null!=I&&(0,t.jsxs)(x.ms,{children:[(0,t.jsx)(x.Lk,{title:"Member actions",icon:c.GvN,className:M?"":"opacity-0"}),(0,t.jsx)(x.pm,{align:"end",children:M&&(0,t.jsx)(x.tJ,{onSelect:C,className:"text-red-500",children:"Remove from Team"})})]})})]})}},78920:(e,n,a)=>{a.d(n,{O:()=>M,l:()=>A});var t=a(86739),s=a(50979),l=a(22986),r=a(25963),i=a(70375),c=a(73648),d=a(2551),o=a(52316),m=a(45588),u=a(86337),x=a(36609),h=a(35645),j=a(17057),p=a(13077),v=a(95662),f=a(42419),g=a(17710),y=a(46348),b=a(13620),w=a(82546),N=a(17274),k=a(28531),T=a(43479);function I(){let e=(0,t._)(["flex items-center"]);return I=function(){return e},e}let A=()=>{var e,n;let{routes:a,navActions:t,teamIdQuery:o}=(0,i.c)(),y=(0,l.useRouter)(),[{user:b}]=(0,m.Jd)(),{workspace:w,isPro:N,isHobby:k,isFree:T}=(0,c.hA)(),{setWorkspaceId:I}=(0,u.iS)(),[A,M]=(0,r.useState)(!1),R=(0,r.useMemo)(()=>"/account"===y.route||y.route.startsWith("/account/"),[y.route]);return null==b?null:(0,s.jsx)(g.s2,{children:(0,s.jsxs)(j.ms,{onOpenChange:e=>M(e),children:[(0,s.jsx)(j.uu,{className:(0,x.xW)("border-none hover:bg-gray-100 hover:rounded-md w-56 !h-16 -ml-4 md:-ml-0 select-none",A&&"bg-gray-100 rounded-md"),children:(0,s.jsxs)(v.z,{space:3,align:"center",className:"w-full",children:[(0,s.jsx)(h.e,{avatar:null==w?void 0:w.avatar,name:null==w?void 0:w.name,size:"sm"}),(0,s.jsxs)(v.T,{align:"start",className:"w-32",children:[(0,s.jsx)(f.EY,{className:"text-left w-full text-sm font-semibold truncate",title:null!=(e=null==w?void 0:w.name)?e:"Me",children:null!=(n=null==w?void 0:w.name)?n:"Me"}),(0,s.jsxs)(f.ae,{children:[N?"Pro":k?"Hobby":T?"Free":"Trial"," Workspace"]})]})]})}),(0,s.jsxs)(j.pm,{align:"start",className:"w-56 space-y-2",children:[b.workspaces.length?(0,s.jsxs)(v.T,{children:[(0,s.jsx)(f.ae,{className:"font-medium ml-3 mb-1",children:"Workspaces"}),b.workspaces.map(e=>{var n,a,l;return(0,s.jsx)(E,{onSelect:()=>{I(e.id),null!=o&&t.replace({url:(0,c.Yk)()})},children:(0,s.jsx)(D,{selected:!R&&e.id===(null==w?void 0:w.id),name:null!=(a=null!=(n=e.name)?n:b.name)?a:"My Workspace",avatar:null!=(l=e.avatar)?l:b.avatar})},e.id)})]}):null,(0,s.jsx)(j.rx,{}),(0,s.jsx)(E,{onSelect:()=>t.push(a.newWorkspace({})),children:(0,s.jsxs)(v.z,{align:"center",space:3,children:[(0,s.jsx)(p.In,{icon:d.f5w,size:"md",className:"text-pink-500"}),(0,s.jsx)(f.EY,{className:"text-sm text-pink-500",children:"Create Workspace"})]})})]})]})})},M=e=>{let{children:n}=e,{workspace:a}=(0,c.hA)();return null==a?(0,s.jsx)(o.default,{}):(0,s.jsx)(N.n,{children:(0,s.jsxs)(y.N,{children:[(0,s.jsx)(v.T,{space:4,align:"start",className:"w-[240px]",children:(0,s.jsxs)(g.Bx,{className:"pt-0 md:!w-auto",children:[(0,s.jsx)(A,{}),(0,s.jsx)(k.S,{}),(0,s.jsx)(T.U,{})]})}),(0,s.jsx)(w.D,{children:(0,s.jsx)(b.F,{children:n})})]})})},D=e=>{let{name:n,avatar:a,email:t,selected:l}=e;return(0,s.jsxs)(v.z,{align:"center",space:3,className:"w-full",children:[(0,s.jsx)(h.e,{name:n,email:t,avatar:a,size:"xs"}),(0,s.jsx)(v.T,{className:"w-40",children:(0,s.jsx)(f.EY,{className:(0,x.xW)("text-sm truncate text-gray-600 ",l?"font-semibold":"font-normal"),title:n,children:n})})]})},E=(0,x.DR)(j.tJ)(I())},82546:(e,n,a)=>{a.d(n,{D:()=>l});var t=a(86739);function s(){let e=(0,t._)(["\n  flex flex-col items-center w-full min-w-0 min-h-lg pt-3\n"]);return s=function(){return e},e}let l=a(36609).qy.main(s())},91555:(e,n,a)=>{a.r(n),a.d(n,{TeamInviteForm:()=>F,default:()=>J});var t=a(50979),s=a(25963),l=a(82660),r=a(47654),i=a(67906),c=a(42113),d=a(31754),o=a(61259),m=a(13077),u=a(86954),x=a(67970),h=a(80430),j=a(95662),p=a(42419),v=a(55802),f=a(35356),g=a(88887),y=a(30358),b=a(71244),w=a(45479),N=a(28592),k=a(70375),T=a(21512),I=a(2551),A=a(73648),M=a(77505),D=a(55850),E=a(93208),R=a(18970),C=a(75749),S=a(17057),z=a(66800),P=a.n(z);let F=e=>{let{email:n,...a}=e,{routes:x}=(0,k.c)(),{workspace:v}=(0,A.hA)(),[f,y]=(0,N.T)(),[b,w]=(0,s.useState)(null),[E,R]=(0,s.useState)(null),{isPro:C}=(0,A.hA)(),{modalActions:S}=(0,M.U)(),{graphqlClient:z}=(0,D.q)(),P=!C,{handleSubmit:F,register:W,reset:U,watch:_,formState:J,control:q}=(0,c.mN)({defaultValues:{role:"MEMBER",email:null!=n?n:""}}),{errors:Y}=J,L=_("role");(0,s.useEffect)(()=>{(async()=>{if(!(null==v?void 0:v.teamId))return;let e=(await z.teamInviteCodeCreate({id:v.teamId,input:{role:L}})).teamInviteCodeCreate;w("".concat(window.location.origin).concat(x.teamInvite({code:e}).nextAs)),R(e)})()},[L,null==v?void 0:v.teamId]);let B=async e=>{if(U(),null==b||null==E||!(null==v?void 0:v.teamId))throw Error("Unable to create invite link.");try{await z.teamUserInvite({id:v.teamId,input:{email:e.email,code:E}}),S.createToast((0,t.jsx)(g.y8,{title:"Invited ".concat(e.email),variant:"success",icon:I.gE4}))}catch(e){S.createToast((0,t.jsx)(g.y8,{title:e.message,variant:"error"}))}};return(0,t.jsxs)(j.T,{space:3,children:[C?null:(0,t.jsxs)("div",{title:"Upgrade to Pro to enable team members",children:[(0,t.jsx)(i.h,{y:4}),(0,t.jsx)(l.l,{variant:"primary",size:"sm",className:"gap-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2 w-full flex-wrap",children:[(0,t.jsx)("p",{children:"You can only invite team members on the Pro plan"}),(0,t.jsx)(r.N,{...x.workspacePlan({}),children:(0,t.jsx)("span",{className:"mr-1 underline",children:"More information"})})]})})]}),(0,t.jsx)(o.lV,{...a,onSubmit:F(B),name:"Team Invite",children:(0,t.jsxs)(j.z,{align:"start",space:4,children:[(0,t.jsx)(j.T,{space:3,className:"flex-1",children:(0,t.jsx)(u.pd,{...W("email",{required:!0}),label:{text:"Email",hidden:!0},disabled:P,placeholder:"thomas.the.tank@engine.com",error:null!=Y.email})}),(0,t.jsxs)(j.z,{align:"start",space:2,children:[(0,t.jsxs)(j.T,{space:3,children:[(0,t.jsx)(c.xI,{name:"role",control:q,render:e=>{let{field:{onChange:n,value:a}}=e;return(0,t.jsx)(h.l,{name:"role",disabled:P,value:a,onChange:n,label:{text:"Role",hidden:!0},options:T.s6,containerStyles:"min-w-[166px]"})}}),P?null:(0,t.jsxs)(d.z9,{variant:"coloured",type:"button",onClick:()=>{if(!P){if(null==b)return void S.createToast((0,t.jsx)(g.y8,{title:"Error",description:"Unable to copy invite link.",variant:"error"}));y(b)}},className:"flex gap-2 items-center",children:[(0,t.jsx)(m.In,{icon:I.QRo,size:"sm",className:"text-pink-500"}),(0,t.jsx)(p.tj,{children:f?"Copied!":"Copy Invite Link"})]})]}),(0,t.jsx)(d.$n,{type:"submit",isLoading:J.isSubmitting,disabled:P||J.isSubmitting||!J.isDirty||null!=Y.email,children:"Invite"})]})]})})]})},W=()=>{var e;let{isConfirmed:n}=(0,E.S)(),{modalActions:a}=(0,M.U)(),{routes:s}=(0,k.c)(),{isPro:i,workspace:c}=(0,A.hA)(),{teamTrustedDomains:d,teamTrustedDomainActions:{createTeamTrustedDomain:o,deleteTeamTrustedDomain:u}}=(0,T.Hl)(null==c?void 0:c.teamId),x=async e=>{if(await n({confirmLabel:"Delete",message:"Are you sure you want to delete the trusted domain?",title:"Delete trusted domain"}))try{await u({id:e.id}),a.createToast((0,t.jsx)(g.y8,{title:"Trusted domain deleted",description:"The trusted domain ".concat(e.domainName," has been deleted."),variant:"success"}))}catch(n){a.createToast((0,t.jsx)(g.y8,{title:"Error deleting trusted domain ".concat(e.domainName),description:n.message,variant:"error"}))}},h=null!=(e=d.data)?e:[];return(0,t.jsxs)(j.T,{space:4,children:[(0,t.jsxs)(p.xC,{children:["New users that sign up with this domain in their email will automatically be granted access to the team with the role specified below."," ",(0,t.jsx)(r.N,{...s.docs({page:"reference/teams#trusted-domains"}),variant:"underline",children:"View Docs"})]}),i?null:(0,t.jsx)("div",{title:"Upgrade to Pro to enable trusted domains",children:(0,t.jsx)(l.l,{variant:"primary",size:"sm",className:"gap-3 ",children:(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2 w-full flex-wrap",children:[(0,t.jsx)("p",{children:"You can only create Trusted Domains on the Pro plan"}),(0,t.jsx)(r.N,{...s.workspacePlan({}),children:(0,t.jsx)("span",{className:"mr-1 underline",children:"More information"})})]})})}),(0,t.jsx)("div",{children:(0,t.jsx)(U,{createTeamTrustedDomain:o,modalActions:a})}),h.length>0&&(0,t.jsx)(R.J6,{children:(0,t.jsxs)(p.XI,{children:[(0,t.jsx)(R.D1,{children:(0,t.jsxs)(R.fI,{children:[(0,t.jsx)(R.A3,{children:"Domain"}),(0,t.jsx)(R.A3,{children:"Role"}),(0,t.jsx)(R.A3,{})]})}),(0,t.jsx)(R.vc,{children:h.map(e=>{var n;return(0,t.jsxs)(R.fI,{children:[(0,t.jsx)(R.xC,{children:(0,t.jsxs)(j.z,{align:"center",space:2,children:[(0,t.jsx)(m.In,{icon:I.qzq,size:"sm",className:"text-gray-500"}),(0,t.jsx)(p.EY,{children:e.domainName})]})}),(0,t.jsx)(R.xC,{children:null==(n=T.s6.find(n=>n.value===e.teamRole))?void 0:n.text}),(0,t.jsx)(R.xC,{className:"flex justify-end",children:(0,t.jsxs)(S.ms,{children:[(0,t.jsx)(S.Lk,{title:"Actions",icon:I.GvN}),(0,t.jsx)(S.pm,{children:(0,t.jsx)(S.tJ,{onSelect:()=>x(e),className:"text-red-500",children:"Delete"})})]})})]},e.id)})})]})})]})},U=e=>{let{createTeamTrustedDomain:n,modalActions:a}=e,{workspace:s,isPro:l}=(0,A.hA)(),{handleSubmit:r,register:i,reset:x,formState:v,control:f}=(0,c.mN)({defaultValues:{teamRole:"MEMBER",domainName:""}}),{errors:y}=v,b=!l,w=async e=>{if(null==s?void 0:s.teamId){x();try{await n({teamId:s.teamId,domainName:e.domainName,teamRole:e.teamRole}),a.createToast((0,t.jsx)(g.y8,{title:"Added ".concat(e.domainName," to trusted domains"),variant:"success",icon:I.rAV}))}catch(e){a.createToast((0,t.jsx)(g.y8,{title:e.message,variant:"error"}),P()("30s"))}}};return(0,t.jsxs)(j.T,{space:3,children:[(0,t.jsx)(o.lV,{onSubmit:r(w),name:"Create Workspace Trusted Domain",className:"space-y-1 flex flex-col items-end",children:(0,t.jsxs)("div",{className:"flex w-full items-center space-x-2",children:[(0,t.jsxs)(j.z,{space:4,className:"w-full",children:[(0,t.jsx)(u.pd,{...i("domainName",{required:!0,validate:e=>e.search(/\./)>=0}),disabled:b,label:{text:"Domain",hidden:!0},placeholder:"example.com",error:null!=y.domainName}),(0,t.jsx)(c.xI,{name:"teamRole",control:f,render:e=>{let{field:{onChange:n,value:a}}=e;return(0,t.jsx)(h.l,{name:"teamRole",value:a,onChange:n,disabled:b,label:{text:"Role",hidden:!0},options:T.s6,containerStyles:"min-w-[166px]"})}})]}),(0,t.jsx)(d.$n,{isLoading:v.isSubmitting,disabled:b||v.isSubmitting||!v.isDirty||null!=y.domainName,children:"Add"})]})}),(0,t.jsxs)(j.z,{align:"center",space:2,children:[(0,t.jsx)(m.In,{icon:I.R2D,size:"sm",className:"text-gray-500"}),(0,t.jsx)(p.tj,{className:"text-gray-500",children:"We confirm access by reviewing project services on your domain or subdomain."})]})]})},_=()=>{var e;let{workspace:n,isLoading:a}=(0,A.hA)(),{teamMembers:s,currentRole:l,teamMemberActions:r}=(0,T.Q5)(null==n?void 0:n.teamId),i=(null==n?void 0:n.teamId)?null!=l?l:w.acM.Member:w.acM.Admin;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(y.k,{title:"People"}),(0,t.jsx)(f.P,{title:"People",children:(0,t.jsxs)(j.T,{space:12,className:"max-w-3xl",children:[i==w.acM.Admin?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(j.T,{space:6,children:[(0,t.jsx)(p.f_,{children:"Invite to your workspace"}),(0,t.jsx)(F,{})]}),(0,t.jsx)(C.c,{})]}):null,i===w.acM.Admin?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(j.T,{space:6,children:[(0,t.jsx)(p.f_,{children:"Trusted Domains"}),(0,t.jsx)(W,{})]}),(0,t.jsx)(C.c,{})]}):null,a||(null==s?void 0:s.isLoading)?(0,t.jsx)(x.Rh,{}):(0,t.jsxs)(j.T,{space:8,children:[(0,t.jsx)(p.f_,{children:"Workspace Members"}),(0,t.jsx)(b.J,{currentRole:i,teamMembers:null!=(e=s.data)?e:[],actions:r})]})]})})]})};_.getLayout=v.u,_.requireAuthentication=!0;let J=_}}]);