"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4254],{4254:(e,n,t)=>{t.d(n,{Sj:()=>K,E$:()=>ee,KS:()=>ea,NJ:()=>Q,u4:()=>es,Qz:()=>el,Mf:()=>er,xZ:()=>eo});var l,r=t(50979),s=t(3149),a=t(64162),o=t(26275),i=t(81154),c=t(24554),d=t(84044),u=t(32704),p=t.n(u),h=t(64124),m=t.n(h),x=t(25963),g=t(6605),f=t(45479),v=t(99231),y=t(758),_=t(70375),b=t(50655),w=t(43308),j=t(47188),k=t(36609),N=t(44106),S=t(92240),z=t(31754),I=t(47654),C=t(37590),U=t(10529),E=t(90279),R=t(95662),P=t(13025),W=t(1142),M=t(91794),D=t(2551),F=t(13077),T=t(62843),H=t(63344),A=t(8718),L=t(21328),B=t(63315),O=t(88887),V=t(77505);function G(e){let{onSelect:n,onCodeChange:t,onDeployService:l,autoFocus:s}=e,{environmentId:a,serviceId:o}=(0,_.c)(),c=(0,W.z)("xs"),{modalActions:d}=(0,V.U)(),u=(0,x.useRef)(t);(0,x.useEffect)(()=>{u.current=t},[t]);let[p,h]=(0,x.useState)(!1),m=(0,x.useRef)(null),v=function(e){let{environmentId:n,serviceId:t}=e,[l]=(0,x.useState)(()=>(0,T.UU)({url:L.p.graphQLV2Subscription(),on:{connected(){},closed(e){}}}));return(0,x.useCallback)((e,r)=>{let{next:s,error:a,complete:o}=r,i=l.subscribe({query:(0,B.y)(f.fsX),variables:{prompt:e,serviceId:t,environmentId:n}},{next(e){let{data:n,errors:t}=e;if(t)return void a(t[0]);n&&s(n)},error:a,complete:o});return()=>{i()}},[l])}({environmentId:a,serviceId:o}),[y,b]=(0,i.fp)(q),[w,j]=(0,x.useState)(J[y].prompt),N=(0,x.useRef)(!1),I=(0,i.md)(er(void 0)),C=l&&I?async()=>{var e;X(!0);let n=(await (0,S.Pm)(I,S.aQ)).state.doc.toString(),t=null==(e=J[y])?void 0:e.changes;await l({prompt:w,code:n,changes:t}),X(!1)}:null,U=(0,x.useCallback)(e=>{var n;null==(n=e.preventDefault)||n.call(e);let t=new FormData(e.currentTarget).get("prompt");if(!t.trim())return;h(!0);let l="",s=!1;v(t,{next(e){h(!0),l+=e.functionGenerate.map(e=>e.text).join(""),u.current(l,!1)},error(e){var n;let t="Failed to generate function.";(null==(n=e.message)?void 0:n.includes("Rate limit exceeded"))&&(t="You have reached your rate limit. Please try again later."),d.createToast((0,r.jsx)(O.y8,{variant:"error",title:t})),h(!1),s=!0},complete(){h(!1),s||u.current(l,!0)}})},[v]);(0,x.useEffect)(()=>{if(m.current){let e=m.current;return(0,A.Ay)(m.current,{"$mod+Enter":()=>{U({currentTarget:e})}})}},[m,U]);let[E,F]=(0,x.useState)(!0),[G,X]=(0,x.useState)(!1),Q=(0,W.z)("lg");return(0,r.jsx)("div",{className:"grid grid-rows-[max-content,1fr] gap-3 px-0 pt-6 px-6",children:(0,r.jsxs)("div",{className:"mx-auto w-full px-6 sm:px-0",children:[E?(0,r.jsx)(P.P.form,{initial:{opacity:0,scale:1},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1},transition:{duration:.175,ease:[.34,1.56,.64,1]},ref:m,className:"relative w-full flex flex-col border border-opacity-[0.08] dark:border-opacity-[0.08] border-black dark:border-white rounded-lg",onSubmit:U,children:(0,r.jsxs)("div",{className:"rounded-lg bg-secondaryBg dark:bg-gray-100",children:[(0,r.jsx)(H.T,{autoFocus:s,size:"sm",value:w,onChange:e=>{let n=e.target.value;N.current=!0,j(n)},label:{hidden:!0,text:"What do you want your function to do?"},placeholder:"What do you want your function to do?",className:"border-0 bg-secondaryBg dark:bg-gray-100 w-full text-gray-500 dark:text-gray-600 m-[10px] min-h-8 lg:min-h-16 resize-none",name:"prompt"}),(0,r.jsxs)(R.z,{children:[(0,r.jsxs)(M.bL,{className:"gap-[8px] md:px-0 py-2 max-w-full w-full flex justify-start ml-3 overflow-x-auto sm:overflow-hidden",value:y,onValueChange:e=>{b(e),N.current||j(J[e].prompt),n(e)},children:[(0,r.jsx)($,{icon:D.zoY,value:"restApi",className:"ml-1",children:"Rest API"}),(0,r.jsx)($,{icon:D.PEP,value:"jsxWebsite",children:Q?"JSX":"Website with JSX"}),(0,r.jsx)($,{icon:D.zD7,value:"scheduledRailsay",children:Q?"Run cron hourly":"Run a cron every hour"})]}),(0,r.jsx)(z.$n,{type:"submit",variant:"primary",title:"Generate",color:"gray",size:"xs",icon:D.DoI,isLoading:G||p,className:"mr-2 absolute right-2 top-0 bottom-2 mt-auto z-10",children:(0,r.jsxs)("span",{className:"pr-1",children:[g.dH," Enter"]})})]})]})}):null,(0,r.jsxs)("div",{className:(0,k.xW)("flex w-full mt-3",C?"justify-between":""),children:[(0,r.jsx)(z.$n,{variant:"outline",color:"gray",size:c?"xs":"sm",icon:E?D.yQN:D.sUz,onClick:()=>F(e=>!e),children:(0,r.jsx)("span",{className:"text-gray-600 -ml-1",children:"Prompt"})}),C?(0,r.jsx)(z.$n,{variant:"primary",onClick:C,isLoading:G,title:"Generate",size:c?"xs":"sm",iconStyles:"!text-xs !size-3",icon:D.qm1,className:"sm:p-4",children:"Deploy Service"}):null]})]})})}function $(e){let{icon:n,children:t,value:l,className:s}=e,a=(0,W.z)("sm");return(0,W.z)("xs")?null:(0,r.jsxs)(M.q7,{value:l,className:(0,k.xW)("group text-nowrap inline-flex items-center px-[8px] py-[4px] rounded-md transition-colors relative aria-checked:border-transparent bg-gray-100 dark:bg-secondaryBg text-gray-600",s),children:[(0,r.jsx)("div",{className:"group-aria-checked:visible group-hover:visible invisible bg-white group-hover:bg-white dark:bg-gray-200 group-hover:dark:bg-gray-200 absolute rounded-md inset-0"}),n&&(0,r.jsx)(F.In,{icon:n,size:"sm",className:"text-gray-300 relative z-10"}),a?null:(0,r.jsx)("div",{className:"h-4 ml-0.5 text-xs relative z-10 flex items-center px-1",children:t})]})}let J={restApi:{code:'// index.tsx (Bun v1.2 runtime)\nimport { Hono } from "hono@4";\nimport { cors } from \'hono/cors\';\n\nconst app = new Hono();\n\napp.use("/*", cors());\napp.get("/", (c) => c.text("Hello world!"));\napp.get("/api/health", (c) => c.json({ status: "ok" }));\n\nBun.serve({\n  port: import.meta.env.PORT ?? 3000,\n  fetch: app.fetch,\n});\n',prompt:'Create a REST API that returns "Hello world". Make sure it has a health check endpoint and CORS enabled.',changes:{networking:{serviceDomains:{"<hasDomain>":{}}},deploy:{cronSchedule:null,sleepApplication:!0}}},jsxWebsite:{code:'// index.tsx (Bun v1.2 runtime)\n/** @jsx jsx */\n/** @jsxImportSource hono/jsx */\nimport { Hono } from "hono@4";\nimport { html } from "hono/html";\n\nconst app = new Hono();\n\nconst homePage = (\n  <html lang="en">\n    <head>\n      <title>Your Name on Railway</title>\n      <meta charset="UTF-8" />\n      <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n      <link\n        href="https://fonts.googleapis.com/css2?family=Inter+Tight:wght@300;400;500&display=swap"\n        rel="stylesheet"\n      />\n      <script src="https://unpkg.com/@tailwindcss/browser@4"><\/script>\n    </head>\n\n    <body class="bg-gradient-to-tr from-sky-50 via-sky-300/40 to-sky-100 text-slate-900 min-h-screen flex items-center justify-center font-[Inter_Tight,sans-serif]">\n      <div class="overflow-hidden rounded-sm shadow-2xl bg-white bg-opacity-20 backdrop-blur">\n        <main class="max-w-2xl mx-auto">\n          <header class="text-left px-8 pb-8 pt-10 flex items-center gap-x-4">\n            <div class="relative w-[56px] h-[56px] rounded-full overflow-hidden">\n              <img\n                src="https://github.com/yourname.png"\n                alt="Profile"\n                class="w-full h-full"\n              />\n              <div class="absolute inset-0 rounded-full z-10 inset-shadow-xs inset-shadow-slate-200" />\n            </div>\n            <div class="space-y-0.5">\n              <h1 class="text-xl font-normal">Your Name</h1>\n              <p class="text-base text-slate-500 font-normal">\n                Software Engineer &#215; Local Legend\n              </p>\n            </div>\n          </header>\n\n          <section class="space-y-4 text-left pb-8 px-8 max-w-md text-slate-500 text-base leading-relaxed tracking-wide">\n            <p>\n              I craft minimal, high-performance software with TypeScript and\n              Python.\n            </p>\n            <p>\n              Currently exploring distributed systems and philosophical\n              implications of software architecture.\n            </p>\n          </section>\n\n          <nav class="flex justify-left space-x-4 px-8 py-4 bg-sky-50/50">\n            <a\n              href="https://github.com"\n              class="text-slate-300 hover:text-slate-400 transition-colors"\n            >\n              <span class="sr-only">GitHub</span>\n              <svg\n                class="w-4 h-4"\n                fill="currentColor"\n                viewBox="0 0 24 24"\n                aria-hidden="true"\n              >\n                <path\n                  fillRule="evenodd"\n                  d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z"\n                  clipRule="evenodd"\n                ></path>\n              </svg>\n            </a>\n            <a\n              href="https://x.com"\n              class="text-slate-300 hover:text-slate-400 transition-colors"\n            >\n              <span class="sr-only">X</span>\n              <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">\n                <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" />\n              </svg>\n            </a>\n            <a\n              href="https://linkedin.com"\n              class="text-slate-300 hover:text-slate-400 transition-colors"\n            >\n              <span class="sr-only">LinkedIn</span>\n              <svg\n                class="w-4 h-4"\n                fill="currentColor"\n                viewBox="0 0 24 24"\n                aria-hidden="true"\n              >\n                <path\n                  fillRule="evenodd"\n                  d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"\n                  clipRule="evenodd"\n                ></path>\n              </svg>\n            </a>\n            <a\n              href="mailto:#"\n              class="text-slate-300 hover:text-slate-400 transition-colors"\n            >\n              <svg\n                class="w-4 h-4"\n                fill="none"\n                stroke="currentColor"\n                viewBox="0 0 24 24"\n              >\n                <path\n                  strokeLinecap="round"\n                  strokeLinejoin="round"\n                  strokeWidth="2"\n                  d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"\n                />\n              </svg>\n            </a>\n          </nav>\n        </main>\n      </div>\n    </body>\n  </html>\n);\n\napp.get("/", (c) =>\n  c.html(\n    <>\n      {html`<!doctype html>`}\n      {homePage}\n    </>\n  )\n);\n\napp.get("/health", (c) => c.json({ status: "ok" }));\n\nBun.serve({\n  port: import.meta.env.PORT,\n  fetch: app.fetch,\n});\n',prompt:"Create a simple landing page using Tailwind with a profile picture from GitHub and description.",changes:{networking:{serviceDomains:{"<hasDomain>":{}}},deploy:{cronSchedule:null,sleepApplication:!0}}},scheduledRailsay:{code:'// index.tsx (Bun v1.2 runtime)\nimport { z } from "zod@3";\n\nconst fact = z.object({\n  id: z.number(),\n  fact: z.string(),\n});\n\n// Fun fact!\n// This API is hosted on Railway Functions:\n//   https://railway.com/project/0162e280-1e36-4582-b671-01175bb6bb6f/service/41812913-83cf-4420-8aad-8ad5fd740332/source-code?environmentId=81cd122a-cfba-45c8-91e4-a96ee3e4a058\nconst res = await fetch("https://random-facts.up.railway.app/fact");\nconst data = fact.parse(await res.json());\nconst dialogSize = Math.max(data.fact.length + 2, 32);\n\nconsole.log(`\n${"-".repeat(dialogSize)}\n< ${data.fact} >\n${"-".repeat(dialogSize)}\n          \\\\    ___┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄╮\n            ,-╼______________________________________________|\n          ,/_________________________________________________|\n         (_         ,┄┄┄┄┄.                      ,┄┄┄┄┄┄┄┄.  |\n___________-._____.\'(_)(_)\\_______________________.(_)=(_)\\__/\n`);\n\n',prompt:"Draw a simple train. It should give a random fact in a dialog and log it to the console.",changes:{networking:null,deploy:{cronSchedule:"0 * * * *",sleepApplication:!1}}}},X="restApi";try{J[X=JSON.parse(null!=(l=window.localStorage.getItem("@railway/editor/selected-example"))?l:'"restApi"')]||(X=Object.keys(J)[0])}catch(e){}let q=(0,d.tG)("@railway/editor/selected-example",X),Q=(0,r.jsx)("div",{className:"w-full h-full relative",children:(0,r.jsx)(C.g,{style:{borderRadius:0,position:"absolute",inset:0},width:"100%",height:"100%"})}),Y=m()(()=>Promise.all([t.e(7853),t.e(6816),t.e(8812),t.e(2681),t.e(4809),t.e(9025),t.e(2960)]).then(t.bind(t,65012)).then(e=>{let{TypeScriptEditor:n}=e;return{default:n}}),{loadableGenerated:{webpack:()=>[65012]},ssr:!1,loading:()=>Q}),K=98304,Z={[f.Uty.Building]:"border-blue-200",[f.Uty.Crashed]:"border-red-200",[f.Uty.Deploying]:"border-blue-200",[f.Uty.Failed]:"border-red-200",[f.Uty.Success]:"border-green-200",[f.Uty.Initializing]:"border-blue-200",[f.Uty.Sleeping]:"border-yellow-200"};function ee(e){var n,t,l,c,d,u,h,m,g,f;let{serviceId:_,environmentId:j,serviceInstance:z,serviceInstanceConfig:I,project:C,onDeployService:U,autoFocus:E,className:R}=e,P=(0,y.hF)(null!=(u=null==z||null==(n=z.latestDeployment)?void 0:n.id)?u:null),W=(0,v.U7)({projectId:null!=(h=null==C?void 0:C.id)?h:null,environmentId:null!=j?j:null,serviceId:null!=_?_:null}),M=function(e){var n;let t=(0,i.md)(w.lR),l=null==t||null==(n=t.services)?void 0:n[e];return(0,x.useMemo)(()=>({...null==l?void 0:l.variables,...t.sharedVariables}),[t])}(null!=_?_:""),{updateServiceConfig:D}=(0,b.w)(_),F=null!=(m=J[(0,i.md)(q)])?m:Object.values(J)[0],T=z||(null==I||null==(t=I.deploy)?void 0:t.startCommand)?(0,a.getFunctionSourceCode)(null!=I?I:null==z||null==(c=z.latestDeployment)||null==(l=c.meta)?void 0:l.serviceManifest):F.code,H=(0,x.useRef)(T),A=null!=(g=null==z?void 0:z.id)?g:_,[L,B]=(0,i.fp)(er(A)),O=(0,i.Xr)(el(A)),[V,$]=(0,i.fp)(es(A)),X=(0,i.Xr)(ea({serviceInstanceId:A})),[Z,ee]=(0,i.fp)(ei(_)),ed=(0,i.Xr)(eo),eu=(0,x.useRef)(D);(0,x.useEffect)(()=>{eu.current=D,H.current=T});let[ep,eh]=(0,i.fp)(ec),em=(0,x.useCallback)(e=>{(0,S.Pm)(e,S.aQ).then(e=>{let n=e.state.doc.toString();n!==H.current&&(eu.current({deploy:{startCommand:"./run.sh ".concat((0,N.W)(n))}}),X(!1),ed(!0))})},[]),ex=(0,x.useMemo)(()=>{let e=["PORT?: string"];for(let n in W.renderedVariables)e.push("".concat(n,": string"));for(let t in M){var n;null!=(n=W.renderedVariables)&&n[t]||e.push("".concat(t,": string"))}return e},[W.renderedVariables,M]);(0,x.useEffect)(()=>{let e=p()(()=>{L&&$(L.scrollSnapshot())},500);return null==L||L.scrollDOM.addEventListener("scroll",e),()=>{null==L||L.scrollDOM.removeEventListener("scroll",e)}}),(0,x.useEffect)(()=>{z||H.current!==F.code||!(Object.values(null!=I?I:{}).length>0)||Z||(eu.current({...F.changes,deploy:{...F.changes.deploy,startCommand:"./run.sh ".concat((0,N.W)(H.current))}}),ee(!0))},[z]);let eg=(0,x.useMemo)(()=>{let e=[ep?null:{key:"Escape",stopPropagation:!0,run:e=>(e.focus(),!0)},{key:"Mod-Alt-v",run:()=>(eh(e=>!e),!0)},{key:"Mod-s",preventDefault:!0,run:e=>(em(e),!0)},{key:"Enter",run:()=>!1,shift:()=>!0}];return[s.w4.of(e.filter(e=>!!e)),ep?(0,o.Pk)():null].filter(e=>!!e)},[ep]),ef=(0,x.useMemo)(()=>({"/env.d.ts":"\n    declare global {\n      namespace NodeJS {\n        interface ProcessEnv {\n          ".concat(ex.join(";\n"),"\n        }\n      }\n    }\n\n    export {}\n    ")}),[ex]),ev=a.FUNCTION_IMAGES.bun.split(":").at(-1),ey=(0,a.getFunctionRuntime)({source:{image:null!=(f=null==I||null==(d=I.source)?void 0:d.image)?f:a.FUNCTION_IMAGES.bun}});return(0,r.jsxs)("div",{className:(0,k.xW)("grid grid-rows-[1fr,max-content] max-h-screen h-full sm:max-h-full w-full max-w-full relative bg-background dark:bg-secondaryBg",!z&&"grid-rows-[1fr,max-content]",R),children:[(0,r.jsx)(x.Suspense,{fallback:Q,children:(0,r.jsx)(Y,{autoFocus:E,initialValue:T,onValueChange:e=>{X(e!==H.current)},initialView:L,onViewUpdate:e=>{B(e.view),O(e.state.toJSON())},scrollSnapshot:V,extensions:eg,extraFiles:ef,runtime:(null==ey?void 0:ey.runtime)||"bun",runtimeVersion:(null==ey?void 0:ey.version)||ev,maxFileSize:K})}),A?(0,r.jsx)("div",{className:(0,k.xW)("absolute top-4 right-4 block sm:hidden",!z&&"top-14"),children:(0,r.jsx)(et,{serviceInstanceId:A,onSave:em})}):null,A?(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute -top-10 right-4 hidden sm:block",children:(0,r.jsx)(et,{serviceInstanceId:A,onSave:em})}),P.deployment&&(0,r.jsx)(en,{deployment:P.deployment})]}):null,!z&&(0,r.jsx)(G,{autoFocus:E,onDeployService:U,onCodeChange:(e,n)=>{L&&(L.dispatch({changes:{from:0,to:L.state.doc.length,insert:e},selection:{head:0,anchor:0}}),n&&(eu.current({deploy:{startCommand:"./run.sh ".concat((0,N.W)(e))}}),X(!1)))},onSelect:e=>{if(!L)return;let n=J[e];L.dispatch({changes:{from:0,to:L.state.doc.length,insert:n.code},selection:{head:0,anchor:0}}),eu.current({...n.changes,deploy:{...n.changes.deploy,startCommand:"./run.sh ".concat((0,N.W)(n.code))}}),X(!1)}})]})}function en(e){var n;let{deployment:t}=e,{routes:l}=(0,_.c)(),s=(0,i.md)(j.DM),a=(0,k.xW)(["flex","flex-col","rounded-lg","overflow-hidden","border","border-gray-200","select-none",t&&Z[t.status]]),o=l.projectServiceDeployments({deploymentId:null!=(n=null==t?void 0:t.id)?n:void 0});return(0,r.jsx)("div",{className:"flex flex-col gap-y-4 shrink-0 py-6 px-5 md:px-12 border-t !border-gray-100 md:!border-gray-200",children:t&&(0,r.jsxs)(r.Fragment,{children:[!!t.staticUrl&&(0,r.jsx)(E.E,{deployment:t,staticUrl:t.staticUrl}),(0,r.jsx)(I.N,{className:a,...o,children:(0,r.jsx)("div",{className:"m-1 z-10",children:(0,r.jsx)(U.g,{deployment:t,permissions:s})})})]})})}function et(e){let{serviceInstanceId:n,onSave:t}=e,l=(0,i.md)(ea({serviceInstanceId:n})),s=(0,i.md)(er(n));return(0,r.jsxs)(z.$n,{size:"xs",onClick:()=>s&&t(s),disabled:!l,className:"disabled:invisible visible disabled:opacity-0 opacity-100 transition-all duration-300 disabled:translate-y-1 translate-y-0",children:["Save"," ",(0,r.jsxs)("span",{className:"hidden sm:inline text-xs font-medium text-pink-100 dark:text-pink-800 ml-1",children:[g.dH,"+S"]})]})}let el=(0,d.Iz)(e=>(0,c.eU)({})),er=(0,d.Iz)(e=>(0,c.eU)(null)),es=(0,d.Iz)(e=>(0,c.eU)(null)),ea=(0,d.Iz)(e=>{let{serviceInstanceId:n}=e;return(0,c.eU)(!1)},(e,n)=>e.serviceInstanceId===n.serviceInstanceId),eo=(0,d.tG)("@railway/editor/staged-changes-reminder",!1),ei=(0,d.Iz)(e=>(0,c.eU)(!1)),ec=(0,d.tG)("@railway/editor/vim",!1)},10529:(e,n,t)=>{t.d(n,{g:()=>a});var l=t(50979),r=t(25963),s=t(37245);let a=(0,r.forwardRef)((e,n)=>{let{deployment:t,currentEvent:r,isOpaque:a=!1,permissions:o}=e;return(0,l.jsxs)(s.PE,{deployment:t,isOpaque:a,ref:n,children:[(0,l.jsxs)("div",{className:"flex items-center gap-x-4",children:[(0,l.jsx)("div",{className:"flex flex-col items-start gap-y-2 min-w-20",children:(0,l.jsx)(s.nW,{deployment:t})}),(0,l.jsx)(s.$,{deployment:t}),(0,l.jsx)(s.UC,{deployment:t})]}),(0,l.jsxs)("div",{className:"flex flex-row-reverse items-center gap-x-3",children:[o.Write&&(0,l.jsx)(s.En,{deployment:t,currentEvent:r}),(0,l.jsx)(s.E0,{deployment:t,currentEvent:r,isDisabled:!o.Write})]})]})})},63344:(e,n,t)=>{t.d(n,{T:()=>p});var l=t(86739),r=t(50979),s=t(25963),a=t(2551),o=t(36609),i=t(13077),c=t(86954),d=t(95662);function u(){let e=(0,l._)(["\n  rounded-sm whitespace-break-spaces break-words\n  bg-gray-100 dark:bg-gray-200 outline outline-1 outline-[rgba(0,0,0,0.1)] dark:outline-gray-200\n"]);return u=function(){return e},e}let p=s.forwardRef((e,n)=>{var t;let{autoHeight:l,enterToSubmit:u,onSubmit:p,onChange:x,error:g,size:f,name:v,label:y,hint:_,id:b,className:w,contentRight:j,highlights:k=[],textareaSiblings:N,...S}=e,[z,I]=(0,s.useState)(null);(0,s.useImperativeHandle)(n,()=>z);let C="string"==typeof y?y:y.text,U="string"!=typeof y&&y.hidden;b=(0,s.useMemo)(()=>null!=b?b:"textarea-".concat(v)+"-"+Math.random(),[b,v]);let E="".concat(null!=(t=S.value)?t:""),R=(0,s.useMemo)(()=>{if(null==k||0===k.length)return null;k.sort((e,n)=>e.start-n.start);let e=[];for(let t=0;t<k.length;t++){var n;let l=k[t],s=k[t-1];e.push(E.slice(null!=(n=null==s?void 0:s.end)?n:0,l.start)),e.push((0,r.jsx)(m,{children:E.slice(l.start,l.end)},t)),t===k.length-1&&l.end<E.length&&e.push(E.slice(l.end,E.length))}return e},[E,k]),P=(0,o.xW)("flex-grow w-full relative z-10","min-w-0 rounded-md","border border-gray-200 text-foreground bg-transparent","placeholder-gray-500","focus:outline-none",c.kS[null!=f?f:"md"],c.gU[null!=f?f:"md"],g&&"border-red-500 focus:border-red-500",S.disabled&&"text-gray-400 placeholder-gray-400 border-gray-200 bg-gray-100 cursor-not-allowed",!g&&!S.disabled&&"hover:border-gray-400 focus:border-pink-400","overflow-x-hidden",w);return(0,r.jsx)("fieldset",{className:"flex flex-col flex-grow w-full",children:(0,r.jsxs)(d.T,{children:[(0,r.jsxs)(d.z,{align:"center",justify:"between",children:[(0,r.jsx)(c.JU,{htmlFor:b,className:U?"sr-only":"",children:C}),j&&j]}),(0,r.jsxs)("div",{className:"relative flex-grow flex",children:[(null==k?void 0:k.length)>0&&(0,r.jsx)("div",{"aria-hidden":!0,className:(0,o.xW)(P,"absolute z-0 inset-0","select-none pointer-events-none","border border-transparent text-transparent whitespace-break-spaces"),children:R}),(0,r.jsx)("textarea",{ref:e=>{I(e),null!=e&&h(e)},name:v,id:b,rows:1,onChange:e=>{l&&h(e.target),"function"==typeof x&&x(e)},onKeyDown:e=>{u&&"Enter"===e.key&&!e.shiftKey&&(e.stopPropagation(),e.preventDefault(),p&&p())},className:P,...S}),N&&N]}),null!=_&&"string"!=typeof g&&(0,r.jsx)("span",{className:"text-xs font-normal leading-[18px] text-gray-600 block mt-2",children:_}),"string"==typeof g&&(0,r.jsxs)("span",{className:"flex items-center text-red-600 leading-[18px] font-normal text-xs mt-2",children:[(0,r.jsx)(i.In,{icon:a.RIJ,size:"sm",className:"mr-1.5"})," ",g]})]})})}),h=e=>{e.style.height="1rem",e.style.height=e.scrollHeight+2+"px"},m=o.qy.span(u())},90279:(e,n,t)=>{t.d(n,{E:()=>d});var l=t(50979),r=t(45479),s=t(70375),a=t(2551),o=t(36609),i=t(13077),c=t(47654);function d(e){let{deployment:n,staticUrl:t,tcpProxies:d}=e,{routes:u}=(0,s.c)(),p=null!=t,h=(null!=d?d:[]).length>0,m=p||h?a.qzq:a.X_F,x=(null==n?void 0:n.status)===r.Uty.Success,g=(null==n?void 0:n.status)===r.Uty.Crashed||(null==n?void 0:n.status)===r.Uty.Failed,f=(0,o.xW)(["text-gray-300",(p||h)&&x&&"text-green-300",(p||h)&&g&&"text-red-300"]),v=(0,o.xW)(["focus-visible:ring-0 focus-visible:outline-2 focus-visible:outline-offset-1 focus-visible:rounded-sm focus-visible:outline-pink-500"]);return(0,l.jsxs)("div",{className:"flex gap-x-2 items-center text-sm",children:[(0,l.jsx)(i.In,{className:f,color:"currentColor",icon:m,size:"sm"}),p&&t&&(0,l.jsx)("a",{className:(0,o.xW)("text-foreground max-w-80 lg:max-w-none truncate hover:underline",v),href:"https://".concat(t),target:"_blank",rel:"noopener noreferrer",children:t}),h&&d&&(0,l.jsx)("p",{className:"text-foreground max-w-80 lg:max-w-none truncate hover:underline",children:function(e){let[{domain:n}]=e;return n}(d)}),!p&&!h&&(0,l.jsx)(c.N,{className:(0,o.xW)("text-gray-300 hover:underline",v),...u.projectServiceSettings({section:"networking-public"}),children:"Unexposed service"})]})}},92240:(e,n,t)=>{async function l(e,n){let t=e.state.selection.main,l=e.state.doc.toString(),r=l.slice(0,t.head),s=r.split("\n").length-1,a=e.scrollSnapshot(),o=await n(l),i=o.slice(0,t.head).split("\n").length-1,c=t.head;if(i!==s){let e=r.replace(/\s/g,"").length,n=0;for(let t=0;t<o.length;t++)if(!/\s/.test(o[t])&&n++,n===e){c=t+1;break}}return e.dispatch({changes:{from:0,to:e.state.doc.length,insert:o},selection:{head:c,anchor:c},effects:a?[a]:[]}),e}async function r(e,n){try{let{format:l}=await t.e(748).then(t.t.bind(t,21621,23));return l(e,n)}catch(n){return e}}async function s(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],{default:l}=await t.e(4604).then(t.t.bind(t,491,23));return r(e,{parser:"typescript",plugins:[l,...n]})}t.d(n,{Pm:()=>l,aQ:()=>s})}}]);