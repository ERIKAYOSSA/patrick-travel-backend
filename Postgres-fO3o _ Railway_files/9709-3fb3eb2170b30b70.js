"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9709],{29654:(e,t,i)=>{i.d(t,{o:()=>c});var r=i(50979),s=i(25963),n=i(19192);let l=(0,s.createContext)(null);var h=i(14821),a=i(34869);let o=e=>!e.isLayoutDirty&&e.willUpdate(!1),c=({children:e,id:t,inherit:i=!0})=>{let c=(0,s.useContext)(n.L),u=(0,s.useContext)(l),[f,d]=function(){let e=function(){let e=(0,s.useRef)(!1);return(0,h.E)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}(),[t,i]=(0,s.useState)(0),r=(0,s.useCallback)(()=>{e.current&&i(t+1)},[t]);return[(0,s.useCallback)(()=>a.Gt.postRender(r),[r]),t]}(),p=(0,s.useRef)(null),m=c.id||u;null===p.current&&((e=>!0==(!0===e)||"id"===e)(i)&&m&&(t=t?m+"-"+t:m),p.current={id:t,group:!0===i&&c.group||function(){let e=new Set,t=new WeakMap,i=()=>e.forEach(o);return{add:r=>{e.add(r),t.set(r,r.addEventListener("willUpdate",i))},remove:r=>{e.delete(r);let s=t.get(r);s&&(s(),t.delete(r)),i()},dirty:i}}()});let g=(0,s.useMemo)(()=>({...p.current,forceRender:f}),[d]);return(0,r.jsx)(n.L.Provider,{value:g,children:e})}},53150:(e,t,i)=>{i.d(t,{L0:()=>x,Ri:()=>A,oW:()=>c});var r=i(3149),s=i(40302),n=i(56889);let l="function"==typeof String.prototype.normalize?e=>e.normalize("NFKD"):e=>e;class h{constructor(e,t,i=0,r=e.length,s,n){this.test=n,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(i,r),this.bufferStart=i,this.normalize=s?e=>s(l(e)):l,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return -1;this.bufferPos=0,this.buffer=this.iter.value}return(0,s.vS)(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=(0,s.MK)(e),i=this.bufferStart+this.bufferPos;this.bufferPos+=(0,s.Fh)(e);let r=this.normalize(t);if(r.length)for(let e=0,s=i;;e++){let n=r.charCodeAt(e),l=this.match(n,s,this.bufferPos+this.bufferStart);if(e==r.length-1){if(l)return this.value=l,this;break}s==i&&e<t.length&&t.charCodeAt(e)==n&&s++}}}match(e,t,i){let r=null;for(let t=0;t<this.matches.length;t+=2){let s=this.matches[t],n=!1;this.query.charCodeAt(s)==e&&(s==this.query.length-1?r={from:this.matches[t+1],to:i}:(this.matches[t]++,n=!0)),n||(this.matches.splice(t,2),t-=2)}return this.query.charCodeAt(0)==e&&(1==this.query.length?r={from:t,to:i}:this.matches.push(1,t)),r&&this.test&&!this.test(r.from,r.to,this.buffer,this.bufferStart)&&(r=null),r}}"undefined"!=typeof Symbol&&(h.prototype[Symbol.iterator]=function(){return this});let a={from:-1,to:-1,match:/.*/.exec("")},o="gm"+(null==/x/.unicode?"":"u");class c{constructor(e,t,i,r=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=a,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new d(e,t,i,r,s);this.re=new RegExp(t,o+((null==i?void 0:i.ignoreCase)?"i":"")),this.test=null==i?void 0:i.test,this.iter=e.iter();let n=e.lineAt(r);this.curLineStart=n.from,this.matchPos=p(e,r),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let i=this.curLineStart+t.index,r=i+t[0].length;if(this.matchPos=p(this.text,r+ +(i==r)),i==this.curLineStart+this.curLine.length&&this.nextLine(),(i<r||i>this.value.to)&&(!this.test||this.test(i,r,t)))return this.value={from:i,to:r,match:t},this;e=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),e=0}}}}let u=new WeakMap;class f{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,i){let r=u.get(e);if(!r||r.from>=i||r.to<=t){let r=new f(t,e.sliceString(t,i));return u.set(e,r),r}if(r.from==t&&r.to==i)return r;let{text:s,from:n}=r;return n>t&&(s=e.sliceString(t,n)+s,n=t),r.to<i&&(s+=e.sliceString(r.to,i)),u.set(e,new f(n,s)),new f(t,s.slice(t-n,i-n))}}class d{constructor(e,t,i,r,s){this.text=e,this.to=s,this.done=!1,this.value=a,this.matchPos=p(e,r),this.re=new RegExp(t,o+((null==i?void 0:i.ignoreCase)?"i":"")),this.test=null==i?void 0:i.test,this.flat=f.get(e,r,this.chunkEnd(r+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let e=this.flat.from+t.index,i=e+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(e,i,t)))return this.value={from:e,to:i,match:t},this.matchPos=p(this.text,i+ +(e==i)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=f.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}function p(e,t){if(t>=e.length)return t;let i=e.lineAt(t),r;for(;t<i.to&&(r=i.text.charCodeAt(t-i.from))>=56320&&r<57344;)t++;return t}function m(e){let t=String(e.state.doc.lineAt(e.state.selection.main.head).number),i=(0,n.A)("input",{class:"cm-textfield",name:"line",value:t});function l(){let t=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(i.value);if(!t)return;let{state:n}=e,l=n.doc.lineAt(n.selection.main.head),[,h,a,o,c]=t,u=o?+o.slice(1):0,f=a?+a:l.number;if(a&&c){let e=f/100;h&&(e=e*("-"==h?-1:1)+l.number/n.doc.lines),f=Math.round(n.doc.lines*e)}else a&&h&&(f=f*("-"==h?-1:1)+l.number);let d=n.doc.line(Math.max(1,Math.min(n.doc.lines,f))),p=s.OF.cursor(d.from+Math.max(0,Math.min(u,d.length)));e.dispatch({effects:[g.of(!1),r.Lz.scrollIntoView(p.from,{y:"center"})],selection:p}),e.focus()}return{dom:(0,n.A)("form",{class:"cm-gotoLine",onkeydown:t=>{27==t.keyCode?(t.preventDefault(),e.dispatch({effects:g.of(!1)}),e.focus()):13==t.keyCode&&(t.preventDefault(),l())},onsubmit:e=>{e.preventDefault(),l()}},(0,n.A)("label",e.state.phrase("Go to line"),": ",i)," ",(0,n.A)("button",{class:"cm-button",type:"submit"},e.state.phrase("go")),(0,n.A)("button",{name:"close",onclick:()=>{e.dispatch({effects:g.of(!1)}),e.focus()},"aria-label":e.state.phrase("close"),type:"button"},["\xd7"]))}}"undefined"!=typeof Symbol&&(c.prototype[Symbol.iterator]=d.prototype[Symbol.iterator]=function(){return this});let g=s.Pe.define();let v=s.sj.define({combine:e=>(0,s.QR)(e,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new Z(e),scrollToMatch:e=>r.Lz.scrollIntoView(e)})});class x{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||function(e){try{return new RegExp(e,o),!0}catch(e){return!1}}(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(e,t)=>"n"==t?"\n":"r"==t?"\r":"t"==t?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new L(this):new y(this)}getCursor(e,t=0,i){let r=e.doc?e:s.$t.create({doc:e});return null==i&&(i=r.doc.length),this.regexp?k(this,r,t,i):w(this,r,t,i)}}class b{constructor(e){this.spec=e}}function w(e,t,i,r){var n,l;return new h(t.doc,e.unquoted,i,r,e.caseSensitive?void 0:e=>e.toLowerCase(),e.wholeWord?(n=t.doc,l=t.charCategorizer(t.selection.main.head),(e,t,i,r)=>((r>e||r+i.length<t)&&(r=Math.max(0,e-2),i=n.sliceString(r,Math.min(n.length,t+2))),(l(S(i,e-r))!=s.Je.Word||l(M(i,e-r))!=s.Je.Word)&&(l(M(i,t-r))!=s.Je.Word||l(S(i,t-r))!=s.Je.Word))):void 0)}class y extends b{constructor(e){super(e)}nextMatch(e,t,i){let r=w(this.spec,e,i,e.doc.length).nextOverlapping();if(r.done){let i=Math.min(e.doc.length,t+this.spec.unquoted.length);r=w(this.spec,e,0,i).nextOverlapping()}return r.done||r.value.from==t&&r.value.to==i?null:r.value}prevMatchInRange(e,t,i){for(let r=i;;){let i=Math.max(t,r-1e4-this.spec.unquoted.length),s=w(this.spec,e,i,r),n=null;for(;!s.nextOverlapping().done;)n=s.value;if(n)return n;if(i==t)return null;r-=1e4}}prevMatch(e,t,i){let r=this.prevMatchInRange(e,0,t);return r||(r=this.prevMatchInRange(e,Math.max(0,i-this.spec.unquoted.length),e.doc.length)),r&&(r.from!=t||r.to!=i)?r:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let i=w(this.spec,e,0,e.doc.length),r=[];for(;!i.next().done;){if(r.length>=t)return null;r.push(i.value)}return r}highlight(e,t,i,r){let s=w(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(i+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)r(s.value.from,s.value.to)}}function k(e,t,i,r){var n;return new c(t.doc,e.search,{ignoreCase:!e.caseSensitive,test:e.wholeWord?(n=t.charCategorizer(t.selection.main.head),(e,t,i)=>!i[0].length||(n(S(i.input,i.index))!=s.Je.Word||n(M(i.input,i.index))!=s.Je.Word)&&(n(M(i.input,i.index+i[0].length))!=s.Je.Word||n(S(i.input,i.index+i[0].length))!=s.Je.Word)):void 0},i,r)}function S(e,t){return e.slice((0,s.zK)(e,t,!1),t)}function M(e,t){return e.slice(t,(0,s.zK)(e,t))}class L extends b{nextMatch(e,t,i){let r=k(this.spec,e,i,e.doc.length).next();return r.done&&(r=k(this.spec,e,0,t).next()),r.done?null:r.value}prevMatchInRange(e,t,i){for(let r=1;;r++){let s=Math.max(t,i-1e4*r),n=k(this.spec,e,s,i),l=null;for(;!n.next().done;)l=n.value;if(l&&(s==t||l.from>s+10))return l;if(s==t)return null}}prevMatch(e,t,i){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,i,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(t,i)=>{if("&"==i)return e.match[0];if("$"==i)return"$";for(let t=i.length;t>0;t--){let r=+i.slice(0,t);if(r>0&&r<e.match.length)return e.match[r]+i.slice(t)}return t})}matchAll(e,t){let i=k(this.spec,e,0,e.doc.length),r=[];for(;!i.next().done;){if(r.length>=t)return null;r.push(i.value)}return r}highlight(e,t,i,r){let s=k(this.spec,e,Math.max(0,t-250),Math.min(i+250,e.doc.length));for(;!s.next().done;)r(s.value.from,s.value.to)}}let A=s.Pe.define(),F=s.Pe.define(),C=s.sU.define({create:e=>new q(N(e).create(),null),update(e,t){for(let i of t.effects)i.is(A)?e=new q(i.value.create(),e.panel):i.is(F)&&(e=new q(e.query,i.value?J:null));return e},provide:e=>r.S7.from(e,e=>e.panel)});class q{constructor(e,t){this.query=e,this.panel=t}}let W=r.NZ.mark({class:"cm-searchMatch"}),R=r.NZ.mark({class:"cm-searchMatch cm-searchMatch-selected"}),P=r.Z9.fromClass(class{constructor(e){this.view=e,this.decorations=this.highlight(e.state.field(C))}update(e){let t=e.state.field(C);(t!=e.startState.field(C)||e.docChanged||e.selectionSet||e.viewportChanged)&&(this.decorations=this.highlight(t))}highlight({query:e,panel:t}){if(!t||!e.spec.valid)return r.NZ.none;let{view:i}=this,n=new s.vB;for(let t=0,r=i.visibleRanges,s=r.length;t<s;t++){let{from:l,to:h}=r[t];for(;t<s-1&&h>r[t+1].from-500;)h=r[++t].to;e.highlight(i.state,l,h,(e,t)=>{let r=i.state.selection.ranges.some(i=>i.from==e&&i.to==t);n.add(e,t,r?R:W)})}return n.finish()}},{decorations:e=>e.decorations});function E(e){return t=>{let i=t.state.field(C,!1);return i&&i.query.spec.valid?e(t,i):_(t)}}let z=E((e,{query:t})=>{let{to:i}=e.state.selection.main,r=t.nextMatch(e.state,i,i);if(!r)return!1;let n=s.OF.single(r.from,r.to),l=e.state.facet(v);return e.dispatch({selection:n,effects:[j(e,r),l.scrollToMatch(n.main,e)],userEvent:"select.search"}),K(e),!0}),O=E((e,{query:t})=>{let{state:i}=e,{from:r}=i.selection.main,n=t.prevMatch(i,r,r);if(!n)return!1;let l=s.OF.single(n.from,n.to),h=e.state.facet(v);return e.dispatch({selection:l,effects:[j(e,n),h.scrollToMatch(l.main,e)],userEvent:"select.search"}),K(e),!0}),$=E((e,{query:t})=>{let i=t.matchAll(e.state,1e3);return!!i&&!!i.length&&(e.dispatch({selection:s.OF.create(i.map(e=>s.OF.range(e.from,e.to))),userEvent:"select.search.matches"}),!0)}),D=E((e,{query:t})=>{let{state:i}=e,{from:n,to:l}=i.selection.main;if(i.readOnly)return!1;let h=t.nextMatch(i,n,n);if(!h)return!1;let a=h,o=[],c,u,f=[];a.from==n&&a.to==l&&(u=i.toText(t.getReplacement(a)),o.push({from:a.from,to:a.to,insert:u}),a=t.nextMatch(i,a.from,a.to),f.push(r.Lz.announce.of(i.phrase("replaced match on line $",i.doc.lineAt(n).number)+".")));let d=e.state.changes(o);return a&&(c=s.OF.single(a.from,a.to).map(d),f.push(j(e,a)),f.push(i.facet(v).scrollToMatch(c.main,e))),e.dispatch({changes:d,selection:c,effects:f,userEvent:"input.replace"}),!0}),I=E((e,{query:t})=>{if(e.state.readOnly)return!1;let i=t.matchAll(e.state,1e9).map(e=>{let{from:i,to:r}=e;return{from:i,to:r,insert:t.getReplacement(e)}});if(!i.length)return!1;let s=e.state.phrase("replaced $ matches",i.length)+".";return e.dispatch({changes:i,effects:r.Lz.announce.of(s),userEvent:"input.replace.all"}),!0});function J(e){return e.state.facet(v).createPanel(e)}function N(e,t){var i,r,s,n,l;let h=e.selection.main,a=h.empty||h.to>h.from+100?"":e.sliceDoc(h.from,h.to);if(t&&!a)return t;let o=e.facet(v);return new x({search:(null!=(i=null==t?void 0:t.literal)?i:o.literal)?a:a.replace(/\n/g,"\\n"),caseSensitive:null!=(r=null==t?void 0:t.caseSensitive)?r:o.caseSensitive,literal:null!=(s=null==t?void 0:t.literal)?s:o.literal,regexp:null!=(n=null==t?void 0:t.regexp)?n:o.regexp,wholeWord:null!=(l=null==t?void 0:t.wholeWord)?l:o.wholeWord})}function T(e){let t=(0,r.ld)(e,J);return t&&t.dom.querySelector("[main-field]")}function K(e){let t=T(e);t&&t==e.root.activeElement&&t.select()}let _=e=>{let t=e.state.field(C,!1);if(t&&t.panel){let i=T(e);if(i&&i!=e.root.activeElement){let r=N(e.state,t.query.spec);r.valid&&e.dispatch({effects:A.of(r)}),i.focus(),i.select()}}else e.dispatch({effects:[F.of(!0),t?A.of(N(e.state,t.query.spec)):s.Pe.appendConfig.of(G)]});return!0};class Z{constructor(e){this.view=e;let t=this.query=e.state.field(C).query.spec;function i(e,t,i){return(0,n.A)("button",{class:"cm-button",name:e,onclick:t,type:"button"},i)}this.commit=this.commit.bind(this),this.searchField=(0,n.A)("input",{value:t.search,placeholder:Q(e,"Find"),"aria-label":Q(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=(0,n.A)("input",{value:t.replace,placeholder:Q(e,"Replace"),"aria-label":Q(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=(0,n.A)("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=(0,n.A)("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=(0,n.A)("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit}),this.dom=(0,n.A)("div",{onkeydown:e=>this.keydown(e),class:"cm-search"},[this.searchField,i("next",()=>z(e),[Q(e,"next")]),i("prev",()=>O(e),[Q(e,"previous")]),i("select",()=>$(e),[Q(e,"all")]),(0,n.A)("label",null,[this.caseField,Q(e,"match case")]),(0,n.A)("label",null,[this.reField,Q(e,"regexp")]),(0,n.A)("label",null,[this.wordField,Q(e,"by word")]),...e.state.readOnly?[]:[(0,n.A)("br"),this.replaceField,i("replace",()=>D(e),[Q(e,"replace")]),i("replaceAll",()=>I(e),[Q(e,"replace all")])],(0,n.A)("button",{name:"close",onclick:()=>(e=>{let t=e.state.field(C,!1);if(!t||!t.panel)return!1;let i=(0,r.ld)(e,J);return i&&i.dom.contains(e.root.activeElement)&&e.focus(),e.dispatch({effects:F.of(!1)}),!0})(e),"aria-label":Q(e,"close"),type:"button"},["\xd7"])])}commit(){let e=new x({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:A.of(e)}))}keydown(e){(0,r.TS)(this.view,e,"search-panel")?e.preventDefault():13==e.keyCode&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?O:z)(this.view)):13==e.keyCode&&e.target==this.replaceField&&(e.preventDefault(),D(this.view))}update(e){for(let t of e.transactions)for(let e of t.effects)e.is(A)&&!e.value.eq(this.query)&&this.setQuery(e.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(v).top}}function Q(e,t){return e.state.phrase(t)}let U=/[\s\.,:;?!]/;function j(e,{from:t,to:i}){let s=e.state.doc.lineAt(t),n=e.state.doc.lineAt(i).to,l=Math.max(s.from,t-30),h=Math.min(n,i+30),a=e.state.sliceDoc(l,h);if(l!=s.from){for(let e=0;e<30;e++)if(!U.test(a[e+1])&&U.test(a[e])){a=a.slice(e);break}}if(h!=n){for(let e=a.length-1;e>a.length-30;e--)if(!U.test(a[e-1])&&U.test(a[e])){a=a.slice(0,e);break}}return r.Lz.announce.of(`${e.state.phrase("current match")}. ${a} ${e.state.phrase("on line")} ${s.number}.`)}let B=r.Lz.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),G=[C,s.Nb.low(P),B]}}]);